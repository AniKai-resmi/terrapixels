<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TerraPixels</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

#map {
  height: 100vh;
  width: 100vw;
}

/* ðŸŽ¨ PALET */
#palette {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  background: rgba(0,0,0,0.85);
  padding: 10px;
  border-radius: 12px;
  display: grid;
  grid-template-columns: repeat(16, 22px);
  gap: 6px;
}

.color {
  width: 22px;
  height: 22px;
  border-radius: 4px;
  cursor: pointer;
  border: 2px solid white;
}
</style>
</head>

<body>

<div id="map"></div>
<div id="palette"></div>

<script>

var map = L.map('map', {
  worldCopyJump: false,
  maxBounds: [[-85, -180], [85, 180]]
}).setView([20, 0], 3);

L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors',
  noWrap: true
}).addTo(map);

var selectedColor = "#ff0000";

/* ðŸŽ¨ 32 RENK */
var colors = [
"#000000","#3c3c3c","#787878","#d2d2d2","#ffffff",
"#600018","#ed1c24","#ff7f27","#fff200",
"#00a2e8","#3f48cc","#a349a4",
"#22b14c","#b5e61d",
"#ffaec9","#ffc90e",
"#7f0000","#b97a57","#c8bfe7",
"#7092be","#99d9ea","#c3c3c3",
"#880015","#ff0000","#ff6a00",
"#ffd800","#00ff00","#00ffff",
"#0000ff","#ff00ff",
"#8b4513","#2e8b57"
];

var paletteDiv = document.getElementById("palette");

colors.forEach(color => {
  var btn = document.createElement("div");
  btn.className = "color";
  btn.style.background = color;
  btn.dataset.color = color;

  btn.addEventListener("click", function() {
    selectedColor = color;
  });

  paletteDiv.appendChild(btn);
});

/* ðŸ”¥ R/PLACE GRID SÄ°STEM */
var gridSize = 1; // kÃ¼Ã§Ã¼ltmek istersen 0.5 yap

map.on('click', function(e) {

  var lat = Math.floor(e.latlng.lat / gridSize) * gridSize;
  var lng = Math.floor(e.latlng.lng / gridSize) * gridSize;

  L.rectangle([
    [lat, lng],
    [lat + gridSize, lng + gridSize]
  ], {
    color: selectedColor,
    fillColor: selectedColor,
    fillOpacity: 1,
    weight: 0
  }).addTo(map);

});

</script>

</body>
</html>

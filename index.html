<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TerraPixels</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

#map {
  height: 100vh;
  width: 100vw;
}

/* Renk se√ßici */
#colorPicker {
  position: absolute;
  top: 15px;
  left: 60px;
  z-index: 1000;
  width: 50px;
  height: 35px;
  border: none;
  cursor: pointer;
}
</style>
</head>

<body>

<input type="color" id="colorPicker" value="#ff0000">
<div id="map"></div>

<script>

// üåç D√ºnya ba≈ülangƒ±√ß g√∂r√ºn√ºm√º
var map = L.map('map', {
  worldCopyJump: false,
  maxBounds: [[-90, -180], [90, 180]]
}).setView([20, 0], 2);

// üó∫ Harita (≈üehir isimli, renkli)
L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors',
  noWrap: true
}).addTo(map);

// üé® Renk sistemi
var selectedColor = document.getElementById("colorPicker").value;

document.getElementById("colorPicker").addEventListener("input", function() {
  selectedColor = this.value;
});

// üü© Grid mantƒ±klƒ± pixel sistemi
var pixelSize = 1; // derece bazlƒ± (k√º√ß√ºltmek i√ßin 0.5 yapabilirsin)

map.on('click', function(e) {

  var lat = Math.floor(e.latlng.lat / pixelSize) * pixelSize;
  var lng = Math.floor(e.latlng.lng / pixelSize) * pixelSize;

  L.rectangle([
    [lat, lng],
    [lat + pixelSize, lng + pixelSize]
  ], {
    color: selectedColor,
    fillColor: selectedColor,
    fillOpacity: 1,
    weight: 0
  }).addTo(map);

});

</script>

</body>
</html>

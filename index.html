<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TerraPixels</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
html, body {
  margin:0;
  padding:0;
  height:100%;
}

#map {
  height:100vh;
  width:100vw;
}

#palette {
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  z-index:1000;
  background:rgba(0,0,0,0.8);
  padding:10px;
  border-radius:10px;
  display:flex;
  gap:6px;
}

.color {
  width:22px;
  height:22px;
  border-radius:4px;
  cursor:pointer;
  border:2px solid white;
}
</style>
</head>

<body>

<div id="map"></div>
<div id="palette"></div>

<script>

var map = L.map('map').setView([20,0],2);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution:'&copy; OpenStreetMap contributors'
}).addTo(map);

var selectedColor = "red";

var colors = [
"black","white","gray","red","orange","yellow",
"green","cyan","blue","purple","pink","brown"
];

var palette = document.getElementById("palette");

colors.forEach(color=>{
  var div=document.createElement("div");
  div.className="color";
  div.style.background=color;
  div.onclick=()=>selectedColor=color;
  palette.appendChild(div);
});

var pixelSize = 1; // derece bazlı küçük kare

map.on("click", function(e){

  var lat = Math.floor(e.latlng.lat / pixelSize) * pixelSize;
  var lng = Math.floor(e.latlng.lng / pixelSize) * pixelSize;

  L.rectangle([
    [lat,lng],
    [lat+pixelSize,lng+pixelSize]
  ],{
    color:selectedColor,
    fillColor:selectedColor,
    fillOpacity:1,
    weight:0
  }).addTo(map);

});

</script>

</body>
</html>
